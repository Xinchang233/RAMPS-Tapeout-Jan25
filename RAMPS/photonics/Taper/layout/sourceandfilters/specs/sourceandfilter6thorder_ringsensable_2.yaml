# General Project Settings
project_name: '/projectnb/siphot/imbert/bpg/TO_45RF_2019May/gen_libs/SourceAndFilters'

# Output Settings
lsf_filename: sourceandfilters.lsf
gds_filename: sourceandfilters_gds

layout_package: 'layout.sourceandfilters.sourceandfilter6thorder_ringsensable'
layout_class: 'sourceandfilters'


layout_params:
  taper_length: 10
  pumpfilters_params:
    output_space: 125.0
    min_wg_dist: 10.0
    input_length: 20.0
    R90: 15.0
    R180: 30.0
    R90t: 5.0
    taper_in_width: 0.2
    taper_length: 5.0
    extra_length: 5.0
    signal_filter_params:
      arb_ring_params:
        hor_disp: 0.5
        wg_in_params:
          layer: !!python/tuple [si_full_free, drawing]
          port_layer: !!python/tuple [si_full_free, port]
          length: 30
          width: 0.6
          gap: 0.194479
        wg_out_params:
          layer: !!python/tuple [si_full_free, drawing]
          port_layer: !!python/tuple [si_full_free, port]
          length: 20
          width: 0.6

        ring_module: layout.RingTunable.RingTunable
        ring_class: RingTunable
        ring_params:
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 8.39

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Signal_HeaterLabelLeft_1'
              heater_label_2: 'Signal_HeaterLabelRight_1'
            ring_heater_gap: 3
            gap: 0.52417
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 8.39

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Signal_HeaterLabelLeft_2'
              heater_label_2: 'Signal_HeaterLabelRight_2'
            ring_heater_gap: 3
            gap: 0.584996
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 8.39

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Signal_HeaterLabelLeft_3'
              heater_label_2: 'Signal_HeaterLabelRight_3'
            ring_heater_gap: 3
            gap: 0.54697
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 15.14

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]

              heater_label_1: 'Signal_HeaterLabelLeft_4'
              heater_label_2: 'Signal_HeaterLabelRight_4'
            ring_heater_gap: 3
            gap: 0.496363
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 15.14

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Signal_HeaterLabelLeft_5'
              heater_label_2: 'Signal_HeaterLabelRight_5'
            ring_heater_gap: 3
            gap: 0.4085
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 15.14

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Signal_HeaterLabelLeft_6'
              heater_label_2: 'Signal_HeaterLabelRight_6'
            ring_heater_gap: 3
            gap: 0.1789145

    idler_filter_params:
      arb_ring_params:
        hor_disp: 0.5
        wg_in_params:
          layer: !!python/tuple [si_full_free, drawing]
          port_layer: !!python/tuple [si_full_free, port]
          length: 30
          width: 0.6
          gap: 0.194479
        wg_out_params:
          layer: !!python/tuple [si_full_free, drawing]
          port_layer: !!python/tuple [si_full_free, port]
          length: 20
          width: 0.6

        ring_module: layout.RingTunable.RingTunable
        ring_class: RingTunable
        ring_params:
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 8.39

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Idler_HeaterLabelLeft_1'
              heater_label_2: 'Idler_HeaterLabelRight_1'
            ring_heater_gap: 3
            gap: 0.52417
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 8.39

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Idler_HeaterLabelLeft_2'
              heater_label_2: 'Idler_HeaterLabelRight_2'
            ring_heater_gap: 3
            gap: 0.584996
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 8.39

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Idler_HeaterLabelLeft_3'
              heater_label_2: 'Idler_HeaterLabelRight_3'
            ring_heater_gap: 3
            gap: 0.54697
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 15.14

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Idler_HeaterLabelLeft_4'
              heater_label_2: 'Idler_HeaterLabelRight_4'
            ring_heater_gap: 3
            gap: 0.496363
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 15.14

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Idler_HeaterLabelLeft_5'
              heater_label_2: 'Idler_HeaterLabelRight_5'
            ring_heater_gap: 3
            gap: 0.4085
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 15.14

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'Idler_HeaterLabelLeft_6'
              heater_label_2: 'Idler_HeaterLabelRight_6'
            ring_heater_gap: 3
            gap: 0.1789145
  asefilters_params:
    input_space: 80.0
    extra_input_length: 15.0
    R90: 15.0
    R180: 30.0
    R90t: 5.0
    taper_in_width: 0.2
    taper_length: 5.0
    extra_length: 5.0
    ase_filter_params:
      arb_ring_params:
        hor_disp: 0.5
        wg_in_params:
          layer: !!python/tuple [si_full_free, drawing]
          port_layer: !!python/tuple [si_full_free, port]
          length: 30
          width: 0.6
          gap: 0.250165
        wg_out_params:
          layer: !!python/tuple [si_full_free, drawing]
          port_layer: !!python/tuple [si_full_free, port]
          length: 30
          width: 0.6

        ring_module: layout.RingTunable.RingTunable
        ring_class: RingTunable
        ring_params:
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 11.02

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'ASEHeaterLeft_1'
              heater_label_2: 'ASEHeaterRight_1'
            ring_heater_gap: 3
            ring_orientation: 'R90'
            gap: 0.49937
          - ring_params:
              layer: !!python/tuple [si_full_free, drawing]
              port_layer: !!python/tuple [si_full_free, port]
              ring_width: 0.7
              r_out: 11.02

            heater_params:
              ring_params:
                layer: !!python/tuple [si_full_free, drawing]
                port_layer: !!python/tuple [si_full_free, port]
                #ring_width: 0.84
                resistance: 1000

              contact_params:
                contact_distance: 0.5
                contact_width: 1.

              via_stack_params:
                top_layer: !!python/tuple ['B2', 'drawing']
                bottom_layer: !!python/tuple ['RX', 'drawing']
                top_x_span: 1.
                top_y_span: 1.
                bottom_x_span: 1.
                bottom_y_span: 1.
                align: 'center_align'

              doping_disk_params:
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
                -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
              heater_label_1: 'ASEHeaterLeft_2'
              heater_label_2: 'ASEHeaterRight_2'
            ring_heater_gap: 3
            ring_orientation: 'R90'
            gap: 0.250165
  source_params:
      spoked_ring_params:
        layer: !!python/tuple ['si_full_free', 'drawing']
        port_layer: !!python/tuple ['si_full_free','port']
        ring_width: 2.0
        rout: 18.8
        doping_spoke_info:        #n doping is offset 0, p doping is offset 0.5
          - {rout: 15.8, rin: 15.0, num: 180,
            spoke_offset: 0, layer: !!python/tuple ['n_inter_phot', 'drawing'],
            spoke_width_percentage: 1.0}
          - {rout: 15.8, rin: 15.0, num: 180,
            spoke_offset: 0.5, layer: !!python/tuple ['p_inter_phot', 'drawing'],
            spoke_width_percentage: 1.0}
        extra_ring_info:
        coupling_slot: 0.152
        wg_width: 0.75
        spoke_num: 180  #number of spokes for p or n--not the total combined.
        #  label: 'Contact'       # Label can be specified as a single name that will be appended by _P and _N
        label: {P: 'P_ring', N: 'N_ring'}   # Label can be specified as a dict of N and P labels
        outer_electrode_ring_layers:
          - !!python/tuple ['B1', 'drawing']
        inner_electrode_ring_layers:
          - !!python/tuple ['B1', 'drawing']


        # Advanced parameters: can change between designs per technology, but not recommended for standard users
        p_via_radius_offset: 0.5
        n_via_radius_offset: 0.8
        high_doping_rout_offset: 0.1
        high_doping_rin_offset: 0.1
        electrode_offset: 0.5
        electrode_width_inner: 0.8
        electrode_width_outer: 1.0
        salicide_radius_extension: 0.25
        high_doping_n_rin_offset: 0

        # Advanced tech params: should not need to change between designs in a given technology
        high_p_doping_layer: !!python/tuple ['p_heavy_sil', 'drawing']
        high_n_doping_layer: !!python/tuple ['n_heavy_sil', 'drawing']
        salicide_lpp: !!python/tuple ['n_heavy_sil', 'drawing']
        bottom_metal_electrode_layer: !!python/tuple ['RX', 'drawing']

      heater_params:
        ring_params:
          layer: !!python/tuple [si_full_free, drawing]
          port_layer: !!python/tuple [si_full_free, port]
          #ring_width: 0.84
          resistance: 1000

        contact_params:
          contact_distance: 0.5
          contact_width: 1.

        via_stack_params:
          top_layer: !!python/tuple ['B2', 'drawing']
          bottom_layer: !!python/tuple ['RX', 'drawing']
          top_x_span: 1.
          top_y_span: 1.
          bottom_x_span: 1.
          bottom_y_span: 1.
          align: 'center_align'

        doping_disk_params:
          -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
          -   doping_layer: !!python/tuple [n_heavy_sil, drawing]
        heater_label_1: 'SourceHeaterLeft'
        heater_label_2: 'SourceHeaterRight'
      ring_heater_gap: 1.42
      via_stack_params:
        top_layer: !!python/tuple ['B2', 'drawing']
        bottom_layer: !!python/tuple ['B1', 'drawing']
        top_x_span: 1.
        top_y_span: 1.
        bottom_x_span: 1.
        bottom_y_span: 1.
        align: 'center_align'
      label_p: 'Source_P_Contact'
      label_n: 'Source_N_Contact'

  grating10_params:
    package: layout.gc.gc
    class: gc1550_10mfd
  grating5_params:
    package: layout.gc.gc
    class: gc1550_5mfd

# Cadence related parameters
impl_lib: 'sourceandfilters_lib'
impl_cell: 'sourceandfilters_cell'

# Vestigial parameters required by BAG class
sweep_params:
  intent: [standard]
root_dir: 'data'
